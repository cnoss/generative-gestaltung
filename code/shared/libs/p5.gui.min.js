!function(){var guis=[],sliderMin=0,sliderMax=100,sliderStep=1,guiProvider="QuickSettings";const defaultLabel="p5.gui";function QSGui(label,parent,sketch){let x=20,y=20;var qs=QuickSettings.create(x,y,label,parent);this.prototype=qs,this.addGlobals=function(){qs.bindGlobals(arguments)},this.addObject=function(){object=arguments[0];var params=[];arguments.length>1&&(params=(params=Array.prototype.slice.call(arguments)).slice(1)),0===params.length&&(params=Object.keys(object)),qs.bindParams(object,params)},this.update=function(key,value){if("undefined"===key||"undefined"===!value)return console.error("No Parameters defined. Key and value required: obj.update(key, value)"),!1;try{qs.setValue(key,value)}catch(e){e instanceof TypeError?console.error(key+" is not a known GUI Element."):logMyErrors(e)}},this.noLoop=function(){qs.setGlobalChangeHandler(sketch._draw)},this.loop=function(){qs.setGlobalChangeHandler(null)},this.show=function(){qs.show()},this.hide=function(){qs.hide()},this.toggleVisibility=function(){qs.toggleVisibility()},this.setPosition=function(x,y){return qs.setPosition(x,y),this},qs.bindParams=function(object,params){for(var i=0;i<params.length;i++){var arg=params[i],val=object[arg],typ=typeof val,sliderConfigRegEx;if(!/^(.*min|.*max|.*step)$/i.test(arg))switch(typ){case"object":if(val instanceof Array&&3===val.length&&"number"==typeof val[0]){var c,c2,vcolor="#"+sketch.color(val[0],val[1],val[2]).levels.slice(0,3).map((function(value){return("0"+value.toString(16)).slice(-2)})).join("");this.bindColor(arg,vcolor,object)}else this.bindDropDown(arg,val,object),object[arg]=val[0];break;case"number":var vmin=object[arg+"Min"]||object[arg+"min"]||sliderMin,vmax=object[arg+"Max"]||object[arg+"max"]||sliderMax,vstep=object[arg+"Step"]||object[arg+"step"]||sliderStep,vmin=Math.min(val,vmin),vmax=Math.max(val,vmax);this.bindRange(arg,vmin,vmax,val,vstep,object);break;case"string":var HEX6;/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i.test(val)?this.bindColor(arg,val,object):this.bindText(arg,val,object);break;case"boolean":this.bindBoolean(arg,object[arg],object)}}},qs.bindGlobals=function(params){this.bindParams(window,params)}}function DummyGui(){var f=function(){};this.addGlobals=f,this.noLoop=f,this.addObject=f,this.show=f}p5.prototype.createGui=function(sketch,label,provider){if("string"==typeof sketch)return this.createGui(label,sketch,provider);let parent=document.body;var gui;return void 0===sketch?(sketch=window,label=label||document.title||"p5.gui"):(parent=sketch.canvas.parentElement,label=label||parent.id||"p5.gui"),"color"in sketch||console.error(`${parent.id}: You need to pass the p5 sketch to createGui in instance mode!`),"QuickSettings"===(provider=provider||guiProvider)?QuickSettings?(console.log("Creating p5.gui powered by QuickSettings."),gui=new QSGui(label,parent,sketch)):(console.log("QuickSettings not found. Is the script included in your HTML?"),gui=new DummyGui(label,parent,sketch)):(console.log("Unknown GUI provider "+provider),gui=new DummyGui(label,parent,sketch)),guis.push(gui),gui},p5.prototype.removeGui=function(gui){},p5.prototype.sliderRange=function(vmin,vmax,vstep){sliderMin=vmin,sliderMax=vmax,sliderStep=vstep},p5.prototype.noLoop=function(){this._loop=!1;for(var i=0;i<guis.length;i++)guis[i].noLoop()},p5.prototype.loop=function(){for(var i=0;i<guis.length;i++)guis[i].loop();this._loop=!0,this._draw()}}();